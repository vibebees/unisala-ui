---
import MainLayout from '@/layouts/main-layout.astro';
import StoryForm from '@/components/newstory/storyform';
import type { PostDraft } from '@/types/post';
import {Toast} from '@/components/ui/toast';
import VisualAidPanel from '@/components/newstory/visualAidPanel';
import ImageEditor from '@/components/newstory/imageEditor';

const id = Astro.url.searchParams.get('id');
const draftId = id || Date.now().toString();
const currentUrl = Astro.url.toString();

const initialPostDraft: PostDraft = {
    title: '',
    tags: [],
    reviewSubCategories: '',
    postText: '',
};
---

<MainLayout title='Create Post'>
    <Toast client:load />
    <div class="flex">
        <div class="flex-1">
            <ImageEditor client:only />
        </div>
        <VisualAidPanel client:only />
    </div>
</MainLayout>
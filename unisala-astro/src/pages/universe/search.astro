---

import MainLayout from '@/layouts/main-layout.astro';
import MediumFeed from '@/components/feed/clientfeed.tsx';

import { fetchApi } from '@/utils/api.utility';
import { userServiceGql } from '@/datasource/servers';
export const prerender = false;
const {slug, query} = Astro.params;
const searchQuery = Astro.url.searchParams.get('q') || query || '';




let articles: never[] = [];
let staffPicks: never[] = [];
let topics: never[] = [];
let error = '';

try {
  // Fetch regular articles

  // Fetch staff picks


  // Fetch top active spaces for topics



} catch (e) {
  console.error('Error fetching data:', e);
  error = e instanceof Error ? e.message : String(e);
}
---

<MainLayout title='Medium-style Feed'>
  {error && <div>Error: {error}</div>}
  {
    !error && (
      <section class='container max-w-screen-lg space-y-6 pt-12'>

        <MediumFeed
                  client:only="react"
          articles={articles}
          staffPicks={staffPicks}
          topics={topics}
        />
      </section>
    )
  }
</MainLayout>
